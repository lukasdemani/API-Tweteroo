{"ast":null,"code":"var _jsxFileName = \"/Users/anahristoff/Library/Mobile Documents/com~apple~CloudDocs/Lukas/Driven/projetao-trackit/src/components/HabitsPage/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Container, Plus, Habit, HabitsList, Grid, Day } from \"./styles\";\nimport Header from \"../Header\";\nimport AddHabbitForm from \"../AddHabbitForm\";\nimport Footer from \"../Footer\";\nimport UserContext from \"../../contexts/UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HabitsPage(_ref) {\n  _s();\n\n  let {\n    image,\n    progress,\n    setProgress\n  } = _ref;\n  const dayweek = [{\n    id: 0,\n    label: 'D'\n  }, {\n    id: 1,\n    label: 'S'\n  }, {\n    id: 2,\n    label: 'T'\n  }, {\n    id: 3,\n    label: 'Q'\n  }, {\n    id: 4,\n    label: 'Q'\n  }, {\n    id: 5,\n    label: 'S'\n  }, {\n    id: 6,\n    label: 'S'\n  }];\n  const [habits, setHabits] = useState([]);\n  const [displayForm, setDisplayForm] = useState('none');\n  const {\n    token,\n    globalProgress\n  } = useContext(UserContext);\n  useEffect(() => {\n    console.log(globalProgress);\n    const promise = axios.get('https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    promise.then(response => setHabits(response.data));\n    promise.catch(error => console.log(error.response));\n  }, []);\n\n  function handleDelete(habit) {\n    const promise = axios.delete(`https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/${habit.id}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    promise.then(() => setHabits(habits.filter(value => value !== habit)));\n    promise.catch(error => console.log(error.response));\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      image: image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Meus h\\xE1bitos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Plus, {\n        onClick: () => setDisplayForm(''),\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(AddHabbitForm, {\n      displayForm: displayForm,\n      setDisplayForm: setDisplayForm,\n      token: token,\n      habits: habits,\n      setHabits: setHabits,\n      color: \"green\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(HabitsList, {\n      children: habits.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Voc\\xEA n\\xE3o tem nenhum h\\xE1bito cadastrado ainda. Adicione um h\\xE1bito para come\\xE7ar a trackear!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this) : habits.map(habit => /*#__PURE__*/_jsxDEV(Habit, {\n        children: [habit.name, /*#__PURE__*/_jsxDEV(Grid, {\n          children: dayweek.map(day => /*#__PURE__*/_jsxDEV(Day, {\n            isSelected: habit.days.includes(day.id),\n            children: day.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n          onClick: () => handleDelete(habit),\n          name: \"trash-outline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      progress: progress,\n      setProgress: setProgress\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n\n_s(HabitsPage, \"Y1IxVbvRO+SeSLGaGgsfb9hx/oE=\");\n\n_c = HabitsPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HabitsPage\");","map":{"version":3,"sources":["/Users/anahristoff/Library/Mobile Documents/com~apple~CloudDocs/Lukas/Driven/projetao-trackit/src/components/HabitsPage/index.js"],"names":["React","useContext","axios","useEffect","useState","Container","Plus","Habit","HabitsList","Grid","Day","Header","AddHabbitForm","Footer","UserContext","HabitsPage","image","progress","setProgress","dayweek","id","label","habits","setHabits","displayForm","setDisplayForm","token","globalProgress","console","log","promise","get","headers","Authorization","then","response","data","catch","error","handleDelete","habit","delete","filter","value","length","map","name","day","days","includes"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Container, Plus, Habit, HabitsList, Grid, Day } from \"./styles\";\nimport Header from \"../Header\";\nimport AddHabbitForm from \"../AddHabbitForm\";\nimport Footer from \"../Footer\";\nimport UserContext from \"../../contexts/UserContext\";\n\nexport default function HabitsPage({ image, progress, setProgress }) {\n    const dayweek = [\n        {id:0, label: 'D'},\n        {id:1, label: 'S'},\n        {id:2, label: 'T'},\n        {id:3, label: 'Q'},\n        {id:4, label: 'Q'},\n        {id:5, label: 'S'},\n        {id:6, label: 'S'}\n    ];\n   \n    const [habits, setHabits] = useState([]);\n    const [displayForm, setDisplayForm] = useState('none');\n    const { token, globalProgress } = useContext(UserContext);\n    \n    useEffect(() => {\n        console.log(globalProgress);\n        const promise = axios.get('https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits', {\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        });\n        promise.then(response => setHabits(response.data));\n        promise.catch(error => console.log(error.response));\n    }, []);\n    \n    function handleDelete(habit) {\n        const promise = axios.delete(`https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/${habit.id}`, {\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        });\n        promise.then(() => \n            setHabits(habits.filter((value) => value!==habit))\n        );\n        promise.catch(error => console.log(error.response)); \n    }\n  \n    return (\n        <Container>\n            <Header image={image}/>\n            <span>\n                <h1>Meus hábitos</h1>\n                <Plus onClick={() => setDisplayForm('')}>+</Plus>\n            </span>\n            <AddHabbitForm displayForm={displayForm} setDisplayForm={setDisplayForm} token={token} habits={habits} setHabits={setHabits} color=\"green\"/>\n            <HabitsList>\n                {habits.length===0 ? \n                    <p>Você não tem nenhum hábito cadastrado ainda. Adicione um hábito para começar a trackear!</p>\n                :\n                    habits.map((habit) => (\n                    <Habit>\n                        {habit.name}\n                        <Grid>\n                            {dayweek.map((day) => (\n                                <Day isSelected={habit.days.includes(day.id)}>\n                                    {day.label}\n                                </Day>))}\n                        </Grid>\n                        <ion-icon onClick={() => handleDelete(habit)} name=\"trash-outline\"></ion-icon>\n                    </Habit>))}\n            </HabitsList>\n            <Footer progress={progress} setProgress={setProgress}></Footer>\n        </Container>\n    );\n}"]},"metadata":{},"sourceType":"module"}