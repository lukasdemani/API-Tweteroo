{"ast":null,"code":"var _jsxFileName = \"/Users/anahristoff/Library/Mobile Documents/com~apple~CloudDocs/Lukas/Driven/projetao-trackit/src/components/TodayPage/index.js\",\n    _s = $RefreshSig$();\n\nimport Header from \"../Header\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { HabitsToday, HabitInfo, Container } from \"./styles\";\nimport axios from \"axios\";\nimport UserContext from \"../../contexts/UserContext\";\nimport Footer from \"../Footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TodayPage(_ref) {\n  _s();\n\n  let {\n    image,\n    progress\n  } = _ref;\n  const [habits, setHabits] = useState([]);\n  const {\n    token\n  } = useContext(UserContext);\n  const [isSelected, setIsSelected] = useState(false);\n  const dayweekTranslator = {\n    Sunday: \"Domingo\",\n    Monday: \"Segunda\",\n    Tuesday: \"Terça\",\n    Wednesday: \"Quarta\",\n    Thurday: \"Quinta\",\n    Friday: \"Sexta\",\n    Saturday: \"Sábado\"\n  };\n\n  const dayjs = require('dayjs');\n\n  const today = dayjs();\n  const todayEnglish = today.format(\"dddd\");\n  const date = today.format(\"DD/MM\");\n  const todayPortuguese = dayweekTranslator[todayEnglish];\n  const todayTitle = `${todayPortuguese}, ${date}`;\n  const colorProgress = progress == 0 ? true : false;\n  console.log(colorProgress);\n  useEffect(() => {\n    const promise = axios.get('https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/today', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    promise.then(response => setHabits(response.data));\n    promise.catch(error => console.log(error.response));\n  }, []);\n\n  function handleSelected(habit) {\n    console.log(habit.id);\n    console.log(habit.done);\n    console.log(token);\n    const request = axios.post(`https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/${habit.id}/check`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    request.then(response => console.log(response));\n    request.catch(error => console.log(error.response));\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      image: image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: todayTitle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      colorText: progress == 0,\n      children: progress == 0 ? \"Nenhum hábito concluído hoje\" : `${progress}% dos hábitos concluídos`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(HabitsToday, {\n      children: habits.map(habit => /*#__PURE__*/_jsxDEV(HabitInfo, {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: habit.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Sequ\\xEAncia atual: \", habit.currentSequence, \" dias\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Seu recorde: \", habit.highestSequence, \" dias\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n          onClick: () => handleSelected(habit),\n          isSelected: habit.done,\n          name: \"checkbox\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      progress: progress\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n\n_s(TodayPage, \"wcwuab7Fi3cDH5YWVMbeUSusJf0=\");\n\n_c = TodayPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"TodayPage\");","map":{"version":3,"sources":["/Users/anahristoff/Library/Mobile Documents/com~apple~CloudDocs/Lukas/Driven/projetao-trackit/src/components/TodayPage/index.js"],"names":["Header","React","useState","useEffect","useContext","HabitsToday","HabitInfo","Container","axios","UserContext","Footer","TodayPage","image","progress","habits","setHabits","token","isSelected","setIsSelected","dayweekTranslator","Sunday","Monday","Tuesday","Wednesday","Thurday","Friday","Saturday","dayjs","require","today","todayEnglish","format","date","todayPortuguese","todayTitle","colorProgress","console","log","promise","get","headers","Authorization","then","response","data","catch","error","handleSelected","habit","id","done","request","post","map","name","currentSequence","highestSequence"],"mappings":"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","sourcesContent":["import Header from \"../Header\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { HabitsToday, HabitInfo, Container } from \"./styles\";\nimport axios from \"axios\";\nimport UserContext from \"../../contexts/UserContext\";\nimport Footer from \"../Footer\";\n\nexport default function TodayPage({ image, progress }) {\n    const [habits, setHabits] = useState([]);\n    const { token } = useContext(UserContext);\n    const [isSelected, setIsSelected] = useState(false);\n    const dayweekTranslator = {\n        Sunday: \"Domingo\",\n        Monday: \"Segunda\",\n        Tuesday: \"Terça\",\n        Wednesday: \"Quarta\",\n        Thurday: \"Quinta\",\n        Friday: \"Sexta\",\n        Saturday: \"Sábado\"\n    };\n    const dayjs = require('dayjs');\n    const today = dayjs();\n    const todayEnglish = today.format(\"dddd\");\n    const date = today.format(\"DD/MM\")\n    const todayPortuguese = dayweekTranslator[todayEnglish];\n    const todayTitle = `${todayPortuguese}, ${date}`;\n    const colorProgress = (progress==0 ? true : false);\n    console.log(colorProgress);\n\n    useEffect(() => {\n        const promise = axios.get('https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/today', {\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        });\n        promise.then(response => setHabits(response.data) );\n        promise.catch(error => console.log(error.response));\n    }, []);\n\n    function handleSelected(habit) {\n        console.log(habit.id);\n        console.log(habit.done);\n        console.log(token);\n        const request = axios.post(\n            `https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/${habit.id}/check`, {\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        });\n        request.then(response => console.log(response));\n        request.catch(error => console.log(error.response));\n        \n    }\n\n\n    return (\n        <Container>\n            <Header image={image}/>\n            <h3>{todayTitle}</h3>\n            <h5 colorText={progress == 0}>{\n                progress == 0 ? \n                    \"Nenhum hábito concluído hoje\"\n                :   \n                    `${progress}% dos hábitos concluídos`}        \n            </h5>\n            <HabitsToday>           \n                {habits.map((habit) => (\n                    <HabitInfo>\n                        <h4>{habit.name}</h4>\n                        \n                        <p>Sequência atual: {habit.currentSequence} dias</p>\n                        <p>Seu recorde: {habit.highestSequence} dias</p>\n                        <ion-icon onClick={() => handleSelected(habit)} isSelected={habit.done} name=\"checkbox\"></ion-icon>\n                    </HabitInfo>\n                    \n                ))}  \n            </HabitsToday>\n            <Footer progress={progress}/>\n        </Container>\n    );\n}"]},"metadata":{},"sourceType":"module"}